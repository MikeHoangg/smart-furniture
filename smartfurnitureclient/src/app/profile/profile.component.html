<div class="profile-content">
  <mat-card class="profile-card">
    <mat-card-header>
      <div mat-card-avatar *ngIf="data.image" class="avatar" [style.backgroundImage]="'url('+ data.image +')'"></div>
      <div mat-card-avatar *ngIf="!data.image"
           class="avatar" [style.backgroundImage]="'url(\'../../assets/img/profile/default-user.png\')'"></div>
      <mat-card-title>{{ data.username }}</mat-card-title>
      <mat-card-subtitle>{{ data.email }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <mat-list>
        <div *ngIf="data.first_name">
          <mat-list-item>{{ data.firstname }}</mat-list-item>
          <mat-divider></mat-divider>
        </div>
        <div *ngIf="data.last_name">
          <mat-list-item>{{ data.lastname }}</mat-list-item>
          <mat-divider></mat-divider>
        </div>
        <div *ngIf="data.height">
          <mat-list-item>Item 3</mat-list-item>
        </div>
      </mat-list>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button *ngIf="owner">
        <mat-icon svgIcon="edit" (click)="openDialog('editProfile')"></mat-icon>
        Edit profile
      </button>
    </mat-card-actions>
  </mat-card>
  <mat-accordion class="tables-content">
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Furniture
        </mat-panel-title>
        <mat-panel-description>
          All {{ data.username }}'s furniture
        </mat-panel-description>
      </mat-expansion-panel-header>
      <button mat-button (click)="openDialog('addFurniture')" *ngIf="owner">
        <mat-icon svgIcon="add"></mat-icon>
        Add furniture
      </button>

      <div *ngIf="ownedFurnitureDataSource.filteredData.length">
        <mat-form-field>
          <input matInput (keyup)="applyFurnitureFilter($event.target.value)" placeholder="Filter furniture">
        </mat-form-field>

        <div class="mat-elevation-z8">
          <table mat-table [dataSource]="ownedFurnitureDataSource" matSort>

            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> ID</th>
              <td mat-cell *matCellDef="let row"> {{ row.id }} </td>
            </ng-container>

            <ng-container matColumnDef="code">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Code</th>
              <td mat-cell *matCellDef="let row"> {{ row.code }} </td>
            </ng-container>

            <ng-container matColumnDef="manufacturer">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Manufacturer</th>
              <td mat-cell *matCellDef="let row"> {{ row.manufacturer }} </td>
            </ng-container>

            <ng-container matColumnDef="type">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Type</th>
              <td mat-cell *matCellDef="let row"> {{ row.type }} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="furnitureDisplayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: furnitureDisplayedColumns;">
            </tr>
          </table>

          <mat-paginator [pageSize]="5"></mat-paginator>
        </div>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Options
        </mat-panel-title>
        <mat-panel-description>
          All {{ data.username }}'s options
        </mat-panel-description>
      </mat-expansion-panel-header>
      <button mat-button (click)="openDialog('addOptions')" *ngIf="owner">
        <mat-icon svgIcon="add"></mat-icon>
        Add options
      </button>

      <div *ngIf="optionsDataSource.filteredData.length">
        <mat-form-field>
          <input matInput (keyup)="applyOptionsFilter($event.target.value)" placeholder="Filter options">
        </mat-form-field>

        <div class="mat-elevation-z8">
          <table mat-table [dataSource]="optionsDataSource" matSort>

            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> ID</th>
              <td mat-cell *matCellDef="let row"> {{ row.id }} </td>
            </ng-container>

            <ng-container matColumnDef="type">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Type</th>
              <td mat-cell *matCellDef="let row"> {{ row.type }} </td>
            </ng-container>

            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Name</th>
              <td mat-cell *matCellDef="let row"> {{ row.name }} </td>
            </ng-container>

            <ng-container matColumnDef="height">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Height</th>
              <td mat-cell *matCellDef="let row"> {{ row.height }} </td>
            </ng-container>

            <ng-container matColumnDef="length">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Length</th>
              <td mat-cell *matCellDef="let row"> {{ row.length }} </td>
            </ng-container>

            <ng-container matColumnDef="width">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Width</th>
              <td mat-cell *matCellDef="let row"> {{ row.width }} </td>
            </ng-container>

            <ng-container matColumnDef="incline">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Incline</th>
              <td mat-cell *matCellDef="let row"> {{ row.incline }} </td>
            </ng-container>

            <ng-container matColumnDef="rigidity">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Rigidity</th>
              <td mat-cell *matCellDef="let row"> {{ row.rigidity }} </td>
            </ng-container>
            <ng-container matColumnDef="temperature">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Temperature</th>
              <td mat-cell *matCellDef="let row"> {{ row.temperature }} </td>
            </ng-container>
            <ng-container matColumnDef="massage">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Massage</th>
              <td mat-cell *matCellDef="let row"> {{ row.massage }} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="optionsDisplayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: optionsDisplayedColumns;">
            </tr>
          </table>

          <mat-paginator [pageSize]="5"></mat-paginator>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
